---
import {Image} from "astro:assets"
---


<div class="embla">
  <div class="rounded-xl embla__viewport">
    <div class="embla__container">
      <div class="embla__slide">
        <button onclick="my_modal_2.showModal()"><Image src="/Wallet.png" width={400} height={400} alt="Wallet"/></button>
<dialog id="my_modal_2" class="modal">
  <div class="modal-box w-full max-w-3xl">
    <p class="text-lg font-bold">Hello!</p>
    <div><Image src="/Wallet.png" alt="Wallet" width={1080} height={1080}/></div>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>

        
      </div>
      <div class="embla__slide">
        <Image class="rounded-xl" src="/redbus.png" width={400} height={400} alt="Wallet"/>
      </div>
      <div class="embla__slide">
        <Image class="rounded-xl" src="/Wallet.png" width={400} height={400} alt="Wallet"/>
      </div>
    </div>
  </div>

  <button class="embla__prev" aria-label="Previous slide">‹</button>
  <button class="embla__next" aria-label="Next slide">›</button>
</div>

<style>
  .embla {
    position: relative;
    max-width: 1080px;
    margin: 0 auto;
  }

  .embla__viewport {
    overflow: hidden;
  }

  .embla__container {
    display: flex;
    touch-action: pan-y pinch-zoom;
  }

  .embla__slide {
    flex: 0 0 100%;
    min-width: 0;
  }


  .embla__prev,
  .embla__next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.9);
    border: none;
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    cursor: pointer;
    font-size: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
    transition: background 0.2s;
  }

  .embla__prev:hover,
  .embla__next:hover {
    background: rgba(255, 255, 255, 1);
  }

  .embla__prev {
    left: 1rem;
  }

  .embla__next {
    right: 1rem;
  }

  .embla__prev:disabled,
  .embla__next:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
</style>

<script>
  import EmblaCarousel from 'embla-carousel'

  const emblaNode = document.querySelector('.embla__viewport') as HTMLElement
  const prevBtn = document.querySelector('.embla__prev') as HTMLButtonElement
  const nextBtn = document.querySelector('.embla__next') as HTMLButtonElement

  if (emblaNode && prevBtn && nextBtn) {
    const emblaApi = EmblaCarousel(emblaNode, { loop: true })

    prevBtn.addEventListener('click', () => {
      emblaApi.scrollPrev()
    })

    nextBtn.addEventListener('click', () => {
      emblaApi.scrollNext()
    })

    // Update button states
    const updateButtons = () => {
      if (emblaApi.canScrollPrev()) {
        prevBtn.removeAttribute('disabled')
      } else {
        prevBtn.setAttribute('disabled', 'true')
      }

      if (emblaApi.canScrollNext()) {
        nextBtn.removeAttribute('disabled')
      } else {
        nextBtn.setAttribute('disabled', 'true')
      }
    }

    emblaApi.on('select', updateButtons)
    emblaApi.on('init', updateButtons)
  }
</script>